# Multi-Cloud Security Group/Firewall Management Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# MCP RUNTIME CONFIGURATION (Shared across all clouds)
# =============================================================================

# Cloud Provider Selection
CLOUD_PROVIDER=aws  # Options: aws, azure, gcp, all

# Common Port and Protocol Settings
WHITELIST_MCP_PORT=22
WHITELIST_MCP_PROTOCOL=tcp
WHITELIST_MCP_RATE_LIMIT=60

# =============================================================================
# AWS-SPECIFIC CONFIGURATION
# =============================================================================

# AWS Credentials
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
AWS_SESSION_TOKEN=  # Optional: for temporary credentials

# AWS Region Settings
AWS_DEFAULT_REGION=us-east-1

# AWS Resource Defaults
AWS_DEFAULT_SECURITY_GROUP_ID=sg-0f0df629567eb6344
AWS_DEFAULT_VPC_ID=vpc-0957f6238229e387a

# =============================================================================
# AZURE-SPECIFIC CONFIGURATION
# =============================================================================

# Azure Service Principal Credentials
AZURE_CLIENT_ID=your_azure_client_id
AZURE_CLIENT_SECRET=your_azure_client_secret
AZURE_TENANT_ID=your_azure_tenant_id
AZURE_SUBSCRIPTION_ID=your_azure_subscription_id

# Azure Region Settings
AZURE_DEFAULT_REGION=eastus
AZURE_DEFAULT_LOCATION=eastus  # Alternative to region

# Azure Resource Defaults
AZURE_DEFAULT_RESOURCE_GROUP=my-resource-group
AZURE_DEFAULT_NSG_NAME=my-nsg

# =============================================================================
# GCP-SPECIFIC CONFIGURATION
# =============================================================================

# GCP Credentials
GCP_PROJECT_ID=your_gcp_project_id
GCP_CREDENTIALS_PATH=/path/to/gcp-credentials.json
# Alternative: Set GOOGLE_APPLICATION_CREDENTIALS environment variable

# GCP Region Settings
GCP_DEFAULT_REGION=us-central1
GCP_DEFAULT_ZONE=us-central1-a

# GCP Resource Defaults
GCP_DEFAULT_NETWORK=default

# GCP Safety Settings
GCP_ADDITIVE_ONLY=true  # Safety feature: only add rules, never modify existing

# =============================================================================
# DESCRIPTION FORMAT CONFIGURATION (Shared across clouds)
# =============================================================================

# Format: {RESOURCE_NAME} - {PORT}-auto-{USERNAME}-{TIMESTAMP}
DESCRIPTION_PREFIX=auto
DESCRIPTION_SEPARATOR=-
DESCRIPTION_TIMESTAMP_FORMAT=%Y%m%d-%H%M
DESCRIPTION_TEMPLATE="Added by MCP on {date} for {user}"

# JSON Structure Template (for reference)
# This defines the expected JSON structure for the add_sg_rule_json.py script
JSON_TEMPLATE={"UserName":"string","UserIP":"string","Port":"string","SecurityGroupID":"string","ResourceName":"string"}

# MCP Server Configuration
MCP_SERVER_NAME=aws-security-group-server
MCP_SERVER_VERSION=1.0.0
MCP_SERVER_PORT=3000
MCP_LOG_LEVEL=INFO

# Security Settings
VALIDATE_IP_FORMAT=true
VALIDATE_PORT_RANGE=true
MIN_PORT=1
MAX_PORT=65535
ALLOW_PRIVATE_IPS=true
REQUIRE_CIDR_NOTATION=false

# Audit and Logging
ENABLE_AUDIT_LOG=true
AUDIT_LOG_PATH=./logs/audit.log
LOG_ROTATION_SIZE=10MB
LOG_RETENTION_DAYS=30

# Rate Limiting
ENABLE_RATE_LIMITING=false
MAX_REQUESTS_PER_MINUTE=60
MAX_REQUESTS_PER_IP=10

# =============================================================================
# PORT MAPPING CONFIGURATION (Shared across clouds)
# =============================================================================

# Common Ports Configuration
COMMON_PORTS_SSH=22
COMMON_PORTS_HTTP=80
COMMON_PORTS_HTTPS=443
COMMON_PORTS_RDP=3389
COMMON_PORTS_MYSQL=3306
COMMON_PORTS_POSTGRESQL=5432
COMMON_PORTS_MONGODB=27017
COMMON_PORTS_CUSTOM_START=8080
COMMON_PORTS_CUSTOM_END=8090

# User Defaults
DEFAULT_USERNAME=user
DEFAULT_RESOURCE_NAME=Resource

# Feature Flags
ENABLE_BULK_OPERATIONS=true
ENABLE_RULE_EXPIRATION=false
ENABLE_APPROVAL_WORKFLOW=false
ENABLE_SLACK_NOTIFICATIONS=false

# Notification Settings (if enabled)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#security-changes
EMAIL_SMTP_SERVER=
EMAIL_FROM_ADDRESS=
EMAIL_TO_ADDRESSES=

# Advanced Configuration
DRY_RUN_MODE=false
AUTO_BACKUP_RULES=true
BACKUP_PATH=./backups/
CACHE_ENABLED=true
CACHE_TTL_SECONDS=300

# Error Handling
RETRY_ATTEMPTS=3
RETRY_DELAY_SECONDS=2
TIMEOUT_SECONDS=30

# API Configuration
API_ENDPOINT_OVERRIDE=
API_VERSION=2016-11-15
USE_SSL=true

# Development/Testing
DEV_MODE=false
MOCK_AWS_RESPONSES=false
TEST_SECURITY_GROUP_ID=sg-test-12345
TEST_USER_IP=192.168.1.100